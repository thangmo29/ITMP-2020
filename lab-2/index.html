<!DOCTYPE html>
<html>
<head>
	<title>The Members - ITKMITL Multimedia Programming 2563</title>

	<script src="https://cdn.jsdelivr.net/npm/vue/dist/vue.js"></script>
	<link rel="stylesheet" type="text/css" href="lab.css">
</head>
<body>
	<div id="app">
		About
		<h3>gameID :{{games.gameID}}</h3>
		<h3>internalName :{{games.internalName}}</h3>
		<h3>storeID :{{games.storeID}}</h3>
		<h3>steamAppID :{{games.steamAppID}}</h3>
		<h3>salePrice :{{games.salePrice}}</h3>
		<h3>normalPrice :{{games.normalPrice}}</h3>
		<h3>dealRating :{{games.dealRating}}</h3>

		InternalName
		<h2 v-for="g in game" :data-id="g.gameID" onclick="viewBio(this)">{{g.title}}</h2>
		
	</div>
	

	<script>
		fetch("https://www.cheapshark.com/api/1.0/deals")
			.then(response => response.json())
			.then(json => {
				console.log(json)
				app.game = json
				app.games = json[0]
			})	
		
		let app = new Vue({
			el: '#app',
			data: {
				game :[{
					"internalName": "..Loading..",
    				"title": "..Loading..",
					"storeID": "..Loading..",
					"gameID": "1",
					"salePrice": "..Loading..",
					"normalPrice": "..Loading..",
					"steamRatingText": "..Loading..",
					"steamAppID": "..Loading..",
					"dealRating": "..Loading..",
				}],
				games :[{
					"internalName": "..Loading..",
    				"title": "..Loading..",
					"storeID": "..Loading..",
					"gameID": "2",
					"salePrice": "..Loading..",
					"normalPrice": "..Loading..",
					"steamRatingText": "..Loading..",
					"steamAppID": "..Loading..",
					"dealRating": "..Loading..",
				}],
				//person:{
				//	id:0,
				//	name:'..loading',
				//	username:'..loading',
				//	email:'..loading',
				//	website:'..loading',
				//	company:{
				//		name : '..loading',
				//	}
			}	
		})

		function viewBio(h2){
			let gameID = h2.dataset.gameID
			app.games = app.game[gameID-1]
			console.log(gameID)
		}

		
	</script>
</body>
</html>